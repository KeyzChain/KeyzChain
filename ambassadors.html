<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OUR AMBASSADORS</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #fef9e4;
            l min-height: 100vh;
        }

        /* Navbar Styles */
        .navbar {
            background-color: #000;
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .navbar .logo {
            font-size: 24px;
            font-weight: bold;
        }

        .navbar .menu {
            display: flex;
            gap: 20px;
        }

        .navbar .menu a {
            text-decoration: none;
            color: white;
            font-size: 18px;
        }

        .navbar .menu a:hover {
            text-decoration: none;
            color: #d1ad64;
            text-shadow: 0 0 10px #d1ad6b;
        }

        .burger-menu {
            display: none;
            flex-direction: column;
            gap: 5px;
        }

        .burger-menu div {
            width: 30px;
            height: 3px;
            background-color: rgb(255, 255, 255);
        }

        /* Responsive Navbar */
        @media screen and (max-width: 768px) {
            .navbar .menu {
                display: none;
                flex-direction: column;
                gap: 15px;
                position: absolute;
                top: 60px;
                right: 0;
                background-color: #000;
                padding: 20px;
                width: 200px;
                height: 250px;
            }

            .navbar.active .menu {
                display: flex;
            }

            .burger-menu {
                display: flex;
            }
        }

        /* Container and Card Styles */
        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 10px;
            text-align: center;
        }

        h1 {
            color: #5271ff;
            margin-bottom: 20px;
        }

        #cardContainer {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }

        .flip-container {
            width: calc(33.333% - 20px);
            height: 450px;
            perspective: 1000px;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transform: rotateY(0deg);
            transition: transform 0.6s ease;
        }

        .card .front,
        .card .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 15px;
            box-sizing: border-box;
        }

        .card .front {
            background: linear-gradient(135deg, #ffb6c1, #ffffe0);
            border: 2px solid #ff69b4;
        }

        .card .back {
            background: #fff;
            border: 2px solid #ff69b4;
            transform: rotateY(180deg);
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.7);
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card h3 {
            color: #5271ff;
            margin-bottom: 10px;
        }

        .card p {
            margin: 5px 0;
            font-size: 14px;
            color: #333;
            text-align: center;
        }

        /* Badge Styles */
        .badges-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .badge {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            overflow: hidden;
        }

        .badge img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: grayscale(100%);
        }

        #noResult {
            color: #ff0000;
            font-size: 18px;
            margin-top: 20px;
            display: none;
        }

        /* Button Styling */
        #backToTopBtn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #d1ad6b;
            color: white;
            border: none;
            border-radius: 50%;
            padding: 15px;
            font-size: 20px;
            cursor: pointer;
            display: block;
            z-index: 1000;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        #backToTopBtn:hover {
            background-color: #ff7f50;
        }

        .search-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        #searchBar {
            width: 100%;
            max-width: 600px;
            padding: 10px 15px;
            border: 2px solid #1644dd;
            border-radius: 20px;
            font-size: 16px;
            outline: none;
        }

        /* Responsive Design */
        @media screen and (max-width: 1024px) {
            .flip-container {
                width: calc(50% - 20px);
            }
        }

        @media screen and (max-width: 768px) {
            .flip-container {
                width: 100%;
            }
        }

        .logo a {
            color: white;
            text-decoration: none;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <div class="navbar">
        <div class="logo"><a href="index.html">KeyzChain</a></div>
        <div class="menu">
            <a href="index.html">Home</a>
            <a href="ambassadors.html">Our Ambassadors</a>
            <a href="EventRedar.html">Event Radar</a>
            <a href="helpfix.html">HelpFix</a>
            <a href="dedication.html">Dedication</a>
        </div>
        <div class="burger-menu" onclick="toggleMenu()">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <!-- Content -->
    <div class="container">
        <h1 style="color: #000;">Our Ambassadors</h1>
        <div class="search-container">
            <input type="text" id="searchBar" placeholder="Search by name or skill..." oninput="filterCards()">
        </div>

        <div id="cardContainer">
            <!-- Cards will be dynamically inserted here -->
        </div>
        <p id="noResult">No results found.</p>
    </div>

    <button
        onclick="window.location.href='mailto:thekeyz.enquiry@gmail.com?subject=Report!&body=I%20am%20reporting%20the%20issue%20'"
        id="backToTopBtn">Report Issue</button>

    <script>
        // Fetch data from the Google Apps Script Web App
        async function fetchData() {
            const response = await fetch("https://script.google.com/macros/s/AKfycbzzZDktT5nszo3O5ulTZBxXsuY6ux5_qgbhfabtvPKJUyoUcM4biCOHtDgOF_j-ikIMsw/exec"); // Replace with your Apps Script URL
            const data = await response.json();  // Parse the JSON data

            // Process the data and display cards
            displayCards(data);
        }

        // Function to display cards
        function displayCards(data) {
            const cardContainer = document.getElementById("cardContainer");

            // Clear any existing content
            cardContainer.innerHTML = "";

            data.forEach((row, index) => {
                // Skip the header row (index 0)
                if (index === 0) return;

                // Create a new card
                const flipContainer = document.createElement("div");
                flipContainer.classList.add("flip-container");
                flipContainer.onclick = () => toggleFlip(flipContainer);

                const card = document.createElement("div");
                card.classList.add("card");

                // Front of the card
                const front = document.createElement("div");
                front.classList.add("front");

                front.innerHTML = `
                    <div class="badges-container">
                        <div class="badge"><img src="https://lh3.googleusercontent.com/a/ACg8ocJeQ7G4BKaJsF5mZex5Mn0vRXjSOEVPEb0I15PYIX5HDxU1-Jo=s360-c-no" alt=""></div>
                        <div class="badge"><img src="https://lh3.googleusercontent.com/a/ACg8ocJeQ7G4BKaJsF5mZex5Mn0vRXjSOEVPEb0I15PYIX5HDxU1-Jo=s360-c-no" alt=""></div>
                        <div class="badge"><img src="https://lh3.googleusercontent.com/a/ACg8ocJeQ7G4BKaJsF5mZex5Mn0vRXjSOEVPEb0I15PYIX5HDxU1-Jo=s360-c-no" alt=""></div>
                        <div class="badge"><img src="https://lh3.googleusercontent.com/a/ACg8ocJeQ7G4BKaJsF5mZex5Mn0vRXjSOEVPEb0I15PYIX5HDxU1-Jo=s360-c-no" alt=""></div>
                        <div class="badge"><img src="https://lh3.googleusercontent.com/a/ACg8ocJeQ7G4BKaJsF5mZex5Mn0vRXjSOEVPEb0I15PYIX5HDxU1-Jo=s360-c-no" alt=""></div>
                    </div>
                    <h1>${row[0]}</h1>
                    <p>Enroll No: ${row[2]}</p>
                    <p>Class: ${row[3]}</p>
                    <p>Semester: ${row[4]}</p>
                    <h3>Technical Skills</h3>
                    <p>${row[5]}</p>
                    <h3>Non-Technical Skills</h3>
                    <p>${row[6]}</p>
                `;

                // Back of the card
                const back = document.createElement("div");
                back.classList.add("back");

                back.innerHTML = `
    <h3>Awards</h3>
    <p>${row[7]}</p>
    <h3>Contact</h3>
    <p>Email: <a href="mailto:${row[8]}?subject=Asking%20for%20collaboration%20(KeyzChain)&body=Hi%20there,%0A%0AHow%20are%20you?">${row[8]}</a></p>
`;

                card.appendChild(front);
                card.appendChild(back);
                flipContainer.appendChild(card);
                cardContainer.appendChild(flipContainer);
            });
        }

        // Function to toggle card flip
        function toggleFlip(flipContainer) {
            const card = flipContainer.querySelector(".card");
            card.classList.toggle("flipped");
        }

        // Search filter function
        function filterCards() {
            const query = document.getElementById("searchBar").value.toLowerCase();
            const containers = document.querySelectorAll(".flip-container");
            let visible = false;

            containers.forEach(container => {
                const cardText = container.innerText.toLowerCase();
                if (cardText.includes(query)) {
                    container.style.display = "block";
                    visible = true;
                } else {
                    container.style.display = "none";
                }
            });

            document.getElementById("noResult").style.display = visible ? "none" : "block";
        }

        function goToPage() {
            window.location.href = "https://keyzchain.github.io/KeyzChain/"; // Replace with the URL you want
        }

        // Burger menu toggle function
        function toggleMenu() {
            const navbar = document.querySelector('.navbar');
            navbar.classList.toggle('active');
        }

        function showBackToTopButton() {
            var button = document.getElementById("backToTopBtn");
            if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                button.style.display = "block";
            } else {
                button.style.display = "none";
            }
        }

        // Load data when the page is loaded
        window.onload = fetchData;
    </script>
</body>

</html>
